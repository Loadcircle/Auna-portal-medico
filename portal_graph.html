<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Portal medico Grafica</title>
    <!-- Estilos principales -->
    <link rel="stylesheet" href="styles/main_syles.css">

    <!-- Estilos de vista -->
    <link rel="stylesheet" href="styles/portal_graph.css">

</head>
<body>

    <div id="portal_graph" class="">
        <nav id="main_nav">
            <div>
                <a href="apps.html"><img class="logo" src="assets/logo_blanco.png" alt="logo"></a>
                <p>| Historia Clínica</p>
            </div>

            <div class="bell active_bell toggle_menu">
                    <img width="22px" src="assets/bell.png" alt="bell">
                    <div>
                            <p class="bold">Notificaciones</p> 
                            <div class="not_items"> 
                                <div class="not_item"> 
                                    <div> 
                                        <p>Tipo de notificación</p> 
                                        <p>Lorem ipsum dolor sit amet</p> 
                                    </div> 
                                    <hr> 
                                </div> 
                                <div class="not_item"> 
                                    <div> 
                                        <p>Tipo de notificación</p> 
                                        <p>Lorem ipsum dolor sit amet</p> 
                                    </div> 
                                    <hr> 
                                </div> 
                            </div>
                    </div>
                </div>
                
                <div class="clinica toggle_menu">
                    <span>Clinica Delgado</span>
                    <ul>          
                        <li>Clinica Bellavista</li>
                        <li>Clínica Camino Real</li>
                        <li>Clínica Miraflores</li>
                        <li>Clínica Vallesur</li>
                    </ul>
                </div>
    
                <div class="perfil toggle_menu">
                    <img width="40px" src="assets/person.png" alt="persona">
                    <span>Dr. Zegarra</span>
                    <ul>         
                        <li>Protocolos de hh.mm.</li>
                        <li>Cerrar sesión</li>
                    </ul>
                </div>
        </nav>

        <nav class="only_mobile">
            <a href="apps.html"><img src="assets/arrow_left.png" alt="arrow"></a>
            <h2>Gráfica</h2>
            
            <div class="bell active_bell toggle_menu">
                    <div class="relative">
                        <img width="22px" src="assets/bell.png" alt="bell">
                    </div>
                    <div>
                            <p class="bold">Notificaciones</p> 
                            <div class="not_items"> 
                                <div class="not_item"> 
                                    <div> 
                                        <p>Tipo de notificación</p> 
                                        <p>Lorem ipsum dolor sit amet</p> 
                                    </div> 
                                    <hr> 
                                </div> 
                                <div class="not_item"> 
                                    <div> 
                                        <p>Tipo de notificación</p> 
                                        <p>Lorem ipsum dolor sit amet</p> 
                                    </div> 
                                    <hr> 
                                </div> 
                            </div>
                    </div>
                </div>
                <div id="deploy_menu_btn">
                    <img src="assets/menu_b.png" alt="menu">
                </div>
                <div id="deploy_menu">
                    <a href="portal_nota.html">
                            Nota de ingreso
                    </a>
                    <a href="portal_evolucion.html">
                            Evolución hospitalización
                    </a>
                    <a href="portal_informe.html">
                            Informe operatorio
                    </a>
                    <a href="portal_anotaciones.html">
                            Anotaciones de enfermería
                    </a>
                    <a href="portal_balance.html">
                            Balance hídrico
                    </a>
                    <a href="portal_laboratorio.html">
                            Laboratorio
                    </a>
                    <a href="portal_imagenes.html">
                            Imágenes
                    </a>
                    <a href="tecnicas_especiales.html">
                            Técnicas especiales
                    </a>
                    <a href="portal_epicrisis.html">
                            Epicrisis
                    </a>
                    <hr class="divider_menu">
                    <a href="#">
                            Clinica Bellavista
                    </a>
                    <a href="#">
                            Clinica Camino Real
                    </a>
                    <a href="#">
                            Clinica Miraflores
                    </a>
                    <a href="#">
                            Clinica Vallesur
                    </a>       
                    <hr class="divider_menu">         
                    <a href="#">
                            Protocolos de hh.mm.
                    </a>
                    <a href="#">
                            Cerrar sesión
                    </a>
                </div>
        </nav>

        <div class="perfil_client" >
            <div class="perfil_picture">
                <img src="assets/perfil_picture.png" alt="perfil">
            </div>

            <div class="perfil_info">
                <h2>Montalvo López, Luis Alexander</h2>
                <div>
                    <div>
                        <p><span>Fecha de Nacimiento:</span> 21 / 11/ 1991   (27 años)</p>
                        <p><span>Sexo:</span> Masculino</p>
                        <p><span>NHC:</span> 123456</p>
                        <p><span>Grupo Sanguineo:</span> AB &nbsp;&nbsp; <span>Factor: </span> RH +</p>
                    </div>
                    <div>
                        <div><p><span>Alergias:</span></p> <p class="red">Penicilina</p></div>
                        <div><p><span>Antecedentes:</span></p> <p>Hijo fallecido</p></div>
                    </div>

                    <div>
                        <a href="portal_graph.html" id="go_graph">
                            <img src="assets/graph.png" alt="grafica">
                            <p>Ir a gráfica de
                                    funciones vitales</p>
                            <img src="assets/go_blue.png" alt="">
                        </a>
                    </div>
                    <p class="only_mobile red">Alergias: Penicilina</p>
                </div>
            </div>
        </div>

        <div class="layout_graph">
            <div class="select_graph only_desktop">
                <label for="item_1">
                    <input type="checkbox" id="item_1" name="item_1">
                        Presión Arterial
                </label>
                <label for="item_2" class="">
                    <input type="checkbox" id="item_2" name="item_2">
                        Frecuencia Respiratoria
                </label>
                <label for="item_3" class="">
                    <input type="checkbox" id="item_3" name="item_3">
                        Temperatura
                </label>
                <label for="item_4" class="">
                    <input type="checkbox" id="item_4" name="item_4">
                        Pulso Frecuencia
                </label>
            </div>
            <div class="graph_view">
                <p class="blue only_mobile">Presión Arterial</p>
                <canvas id="myChart" width="400" height="400"></canvas>
            </div>
            <div class="graph_view only_mobile">
                <p class="blue only_mobile">Frecuencia Respiratoria</p>
                <canvas id="" width="400" height="400"></canvas>
            </div>
            <div class="graph_view only_mobile">
                <p class="blue only_mobile">Temperatura</p>
                <canvas id="" width="400" height="400"></canvas>
            </div>
            <div class="graph_view only_mobile">
                <p class="blue only_mobile">Pulso Frecuencia</p>
                <canvas id="" width="400" height="400"></canvas>
            </div>
        </div>


    </div>

    <!-- Javascript toda web -->
    <script src="js/main_app.js"></script>
    <script src="js/Chart.bundle.min.js"></script>
    <script>
        (function(){
            let checks = document.querySelectorAll('input[type="checkbox"]');
            
            checks.forEach(function(k){
                k.addEventListener('change', function(e) {
                    if(k.checked){
                        k.parentNode.classList.add('active')
                    }else{
                        k.parentNode.classList.remove('active')
                    }
                });
            })



            /*Graph*/
            //Grafica principal
            let ctx = document.getElementById("myChart").getContext('2d');
    
            //Graficas de telefono
            let ctxs = document.querySelectorAll('canvas');


            const labels =  ["One", "Two", "Three", "Four", "Five"];
            let hidden_var = true;
            if(window.innerWidth < 1025){
                hidden_var = false;
            }

            let dataset_1 = {
                            label: 'Barra 1',
                            data: [5, 3, 6],
                            hidden: hidden_var,
                            borderColor: [
                                '#00FF00 ',
                                '#00FF00 ',
                                '#00FF00 ',
                            ],
                            borderWidth: 2,
                            type: 'bar',    
                        };
            let dataset_2 = {
                            label: 'Barra 2',
                            hidden: hidden_var,
                            lineTension: 0,
                            data: [3, 4, 2, 7],
                            backgroundColor: [
                                'rgba(0, 0, 0, 0)'
                            ],
                            borderColor: [
                                '#000',
                            ],
                            borderWidth: 2,
                            type: 'line',                            
                        };
            let dataset_3 = {
                            label: 'Barra 3',
                            hidden: hidden_var,
                            lineTension: 0,
                            data: [1, 2, 5, 3],
                            backgroundColor: [
                                'rgba(0, 0, 0, 0)'
                            ],
                            borderColor: [
                                '#FF0000 ',
                            ],
                            borderWidth: 2,
                            type: 'line',
                            
                        };
            let dataset_4 = {
                            label: 'Barra 4',
                            hidden: hidden_var,
                            lineTension: 0,
                            data: [3, 6, 2, 3],
                            backgroundColor: [
                                'rgba(0, 0, 0, 0)'
                            ],
                            borderColor: [
                                '#00f ',
                            ],
                            borderWidth: 2,
                            type: 'line',
                            
                        };

            let all_datasets = [dataset_1, dataset_2, dataset_3, dataset_4];

            let options = {
                        responsive:true,
                        maintainAspectRatio: false,
                        aspectRatio: 2,
                        scales: {
                            xAxes: [{
                                ticks: {
                                    beginAtZero:false,
                                },                                
                                barPercentage:0.01, 
                            }]
                        },
                    };

                let buttons_graph = document.querySelectorAll('.select_graph  > label > input');
            
                buttons_graph.forEach(function(j, v){
                    j.addEventListener('click', function(){
                        ole(v);
                    });
                });
            
                function ole(k){
                    if(myChart.data.datasets[k].hidden == true){
                        myChart.data.datasets[k].hidden = false;
                    }else{                        
                        myChart.data.datasets[k].hidden = true;
                    }
                    myChart.update();
                }


                
            if(window.innerWidth > 1025){
            hidden_var = true;
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: all_datasets
                    },
                    options: options
                });
            }

            if(window.innerWidth < 1025){

            hidden_var = false;

                ctxs.forEach(function(c, v){


                new Chart(c.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [all_datasets[v]]
                    },
                    options: options
                });


                })






            }




        })()
        

    </script>
</body>
</html>